<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class HighLine - HighLine Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Object.html">Object</a>
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="HighLine/SystemExtensions.html">HighLine::SystemExtensions</a>
  
  
  </ul>
</div>

    <div id="extends-section" class="nav-section">
  <h3>Extended With Modules</h3>

  <ul class="link-list">
    
  
    <li><span class="extend">OptionParser::Completion</span>
  
  
  </ul>
</div>

    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-String">::String</a>
    
    <li ><a href="#method-c-Style">::Style</a>
    
    <li ><a href="#method-c-color">::color</a>
    
    <li ><a href="#method-c-color_code">::color_code</a>
    
    <li ><a href="#method-c-color_scheme">::color_scheme</a>
    
    <li ><a href="#method-c-color_scheme-3D">::color_scheme=</a>
    
    <li ><a href="#method-c-colorize_strings">::colorize_strings</a>
    
    <li ><a href="#method-c-const_missing">::const_missing</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-supports_rgb_color-3F">::supports_rgb_color?</a>
    
    <li ><a href="#method-c-track_eof-3D">::track_eof=</a>
    
    <li ><a href="#method-c-track_eof-3F">::track_eof?</a>
    
    <li ><a href="#method-c-uncolor">::uncolor</a>
    
    <li ><a href="#method-c-use_color-3D">::use_color=</a>
    
    <li ><a href="#method-c-use_color-3F">::use_color?</a>
    
    <li ><a href="#method-c-using_color_scheme-3F">::using_color_scheme?</a>
    
    <li ><a href="#method-i-actual_length">#actual_length</a>
    
    <li ><a href="#method-i-agree">#agree</a>
    
    <li ><a href="#method-i-ask">#ask</a>
    
    <li ><a href="#method-i-choose">#choose</a>
    
    <li ><a href="#method-i-color">#color</a>
    
    <li ><a href="#method-i-color_code">#color_code</a>
    
    <li ><a href="#method-i-continue_paging-3F">#continue_paging?</a>
    
    <li ><a href="#method-i-explain_error">#explain_error</a>
    
    <li ><a href="#method-i-format_statement">#format_statement</a>
    
    <li ><a href="#method-i-gather">#gather</a>
    
    <li ><a href="#method-i-get_line">#get_line</a>
    
    <li ><a href="#method-i-get_response">#get_response</a>
    
    <li ><a href="#method-i-indent">#indent</a>
    
    <li ><a href="#method-i-indentation">#indentation</a>
    
    <li ><a href="#method-i-list">#list</a>
    
    <li ><a href="#method-i-newline">#newline</a>
    
    <li ><a href="#method-i-output_cols">#output_cols</a>
    
    <li ><a href="#method-i-output_rows">#output_rows</a>
    
    <li ><a href="#method-i-page_at-3D">#page_at=</a>
    
    <li ><a href="#method-i-page_print">#page_print</a>
    
    <li ><a href="#method-i-say">#say</a>
    
    <li ><a href="#method-i-uncolor">#uncolor</a>
    
    <li ><a href="#method-i-unique_answers">#unique_answers</a>
    
    <li ><a href="#method-i-wrap">#wrap</a>
    
    <li ><a href="#method-i-wrap_at-3D">#wrap_at=</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-HighLine">
  <h1 id="class-HighLine" class="class">
    class HighLine
  </h1>

  <section class="description">
    
<p>A <a href="HighLine/HighLine.html">HighLine</a> object is a “high-level
line oriented” shell over an input and an output stream.  <a
href="HighLine/HighLine.html">HighLine</a> simplifies common console
interaction, effectively replacing puts() and gets().  User code can simply
specify the question to ask and any details about user interaction, then
leave the rest of the work to <a
href="HighLine/HighLine.html">HighLine</a>.  When HighLine.ask() returns,
you&#39;ll have the answer you requested, even if <a
href="HighLine/HighLine.html">HighLine</a> had to ask many times, validate
results, perform range checking, convert types, etc.</p>

<p>color_scheme.rb</p>

<p>Created by Jeremy Hinegardner on 2007-01-24 Copyright 2007.  All rights
reserved</p>

<p>This is Free Software.  See <a href="LICENSE.html">LICENSE</a> and COPYING
for details</p>

<p>simulate.rb</p>

<pre>Created by Andy Rossmeissl on 2012-04-29.
Copyright 2005 Gray Productions. All rights reserved.

This is Free Software.  See LICENSE and COPYING for details.</pre>

<p>adapted from <a
href="https://gist.github.com/194554">gist.github.com/194554</a></p>

<p>Extensions for class <a href="String.html">String</a></p>

<p>HighLine::String is a subclass of <a href="String.html">String</a> with
convenience methods added for colorization.</p>

<p>Available convenience methods include:</p>

<pre>* &#39;color&#39; method         e.g.  highline_string.color(:bright_blue, :underline)
* colors                 e.g.  highline_string.magenta
* RGB colors             e.g.  highline_string.rgb_ff6000
                          or   highline_string.rgb(255,96,0)
* background colors      e.g.  highline_string.on_magenta
* RGB background colors  e.g.  highline_string.on_rgb_ff6000
                          or   highline_string.on_rgb(255,96,0)
* styles                 e.g.  highline_string.underline</pre>

<p>Additionally, convenience methods can be chained, for instance the
following are equivalent:</p>

<pre class="ruby"><span class="ruby-identifier">highline_string</span>.<span class="ruby-identifier">bright_blue</span>.<span class="ruby-identifier">blink</span>.<span class="ruby-identifier">underline</span>
<span class="ruby-identifier">highline_string</span>.<span class="ruby-identifier">color</span>(:<span class="ruby-identifier">bright_blue</span>, :<span class="ruby-identifier">blink</span>, :<span class="ruby-identifier">underline</span>)
<span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color</span>(<span class="ruby-identifier">highline_string</span>, :<span class="ruby-identifier">bright_blue</span>, :<span class="ruby-identifier">blink</span>, :<span class="ruby-identifier">underline</span>)
</pre>

<p>For those less squeamish about possible conflicts, the same convenience
methods can be added to the built-in <a href="String.html">String</a>
class, as follows:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;highline&#39;</span>
<span class="ruby-constant">Highline</span>.<span class="ruby-identifier">colorize_strings</span>
</pre>

<p>color_scheme.rb</p>

<p>Created by Richard LeBer on 2011-06-27. Copyright 2011.  All rights
reserved</p>

<p>This is Free Software.  See <a href="LICENSE.html">LICENSE</a> and COPYING
for details</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="BASIC_COLORS">BASIC_COLORS
        
        <dd>
        
      
        <dt id="BLACK_STYLE">BLACK_STYLE
        
        <dd><p>These RGB colors are approximate; see <a
href="http://en.wikipedia.org/wiki/ANSI_escape_code">en.wikipedia.org/wiki/ANSI_escape_code</a></p>
        
      
        <dt id="BLINK_STYLE">BLINK_STYLE
        
        <dd>
        
      
        <dt id="BLUE_STYLE">BLUE_STYLE
        
        <dd>
        
      
        <dt id="BOLD_STYLE">BOLD_STYLE
        
        <dd>
        
      
        <dt id="CLEAR_STYLE">CLEAR_STYLE
        
        <dd>
        
      
        <dt id="COLORS">COLORS
        
        <dd>
        
      
        <dt id="CONCEALED_STYLE">CONCEALED_STYLE
        
        <dd>
        
      
        <dt id="CYAN_STYLE">CYAN_STYLE
        
        <dd>
        
      
        <dt id="DARK_STYLE">DARK_STYLE
        
        <dd><p>for example bold black. Bold without a color displays the system-defined
bold color (e.g. red on Mac iTerm)</p>
        
      
        <dt id="ERASE_CHAR_STYLE">ERASE_CHAR_STYLE
        
        <dd>
        
      
        <dt id="ERASE_LINE_STYLE">ERASE_LINE_STYLE
        
        <dd><p>Embed in a <a href="String.html">String</a> to clear all previous ANSI
sequences.  This <strong>MUST</strong> be done before the program exits!</p>
        
      
        <dt id="GRAY_STYLE">GRAY_STYLE
        
        <dd><p>Alias for WHITE, since WHITE is actually a light gray on Macs</p>
        
      
        <dt id="GREEN_STYLE">GREEN_STYLE
        
        <dd>
        
      
        <dt id="GREY_STYLE">GREY_STYLE
        
        <dd>
        
      
        <dt id="MAGENTA_STYLE">MAGENTA_STYLE
        
        <dd>
        
      
        <dt id="NONE_STYLE">NONE_STYLE
        
        <dd><p>On Mac OSX Terminal, this is black foreground, or bright white background.
Also used as base for RGB colors, if available</p>
        
      
        <dt id="RED_STYLE">RED_STYLE
        
        <dd>
        
      
        <dt id="RESET_STYLE">RESET_STYLE
        
        <dd>
        
      
        <dt id="REVERSE_STYLE">REVERSE_STYLE
        
        <dd>
        
      
        <dt id="STYLES">STYLES
        
        <dd>
        
      
        <dt id="UNDERLINE_STYLE">UNDERLINE_STYLE
        
        <dd>
        
      
        <dt id="UNDERSCORE_STYLE">UNDERSCORE_STYLE
        
        <dd>
        
      
        <dt id="VERSION">VERSION
        
        <dd><p>The version of the installed library.</p>
        
      
        <dt id="WHITE_STYLE">WHITE_STYLE
        
        <dd><p>On Mac OSX Terminal, white is actually gray</p>
        
      
        <dt id="YELLOW_STYLE">YELLOW_STYLE
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-indent_level" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">indent_level</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The indentation level</p>
        
        </div>
      </div>
      
      <div id="attribute-i-indent_size" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">indent_size</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>The indentation size</p>
        
        </div>
      </div>
      
      <div id="attribute-i-multi_indent" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">multi_indent</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Indentation over multiple lines</p>
        
        </div>
      </div>
      
      <div id="attribute-i-page_at" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">page_at</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The current row setting for paging output.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-wrap_at" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">wrap_at</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The current column setting for wrapping output.</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-String" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">String</span><span
            class="method-args">(s)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="String-source">
            <pre><span class="ruby-comment"># File lib/highline/string_extensions.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-constant">String</span>(<span class="ruby-identifier">s</span>)
  <span class="ruby-constant">HighLine</span><span class="ruby-operator">::</span><span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-Style" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">Style</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="Style-source">
            <pre><span class="ruby-comment"># File lib/highline/style.rb, line 10</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-constant">Style</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">flatten</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
    <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Style</span>)
      <span class="ruby-constant">Style</span>.<span class="ruby-identifier">list</span>[<span class="ruby-identifier">arg</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Style</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">arg</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^\e\[/</span> <span class="ruby-comment"># arg is a code</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">styles</span> = <span class="ruby-constant">Style</span>.<span class="ruby-identifier">code_index</span>[<span class="ruby-identifier">arg</span>]
        <span class="ruby-identifier">styles</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:code=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">arg</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">style</span> = <span class="ruby-constant">Style</span>.<span class="ruby-identifier">list</span>[<span class="ruby-identifier">arg</span>]
      <span class="ruby-identifier">style</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color_scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color_scheme</span>[<span class="ruby-identifier">arg</span>]
      <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color_scheme</span>[<span class="ruby-identifier">arg</span>]
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
      <span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^rgb_([a-f0-9]{6})$/</span>
      <span class="ruby-constant">Style</span>.<span class="ruby-identifier">rgb</span>(<span class="ruby-node">$1</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^on_rgb_([a-f0-9]{6})$/</span>
      <span class="ruby-constant">Style</span>.<span class="ruby-identifier">rgb</span>(<span class="ruby-node">$1</span>).<span class="ruby-identifier">on</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-node">&quot;#{arg.inspect} is not a defined Style&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">args</span>
    <span class="ruby-constant">Style</span>.<span class="ruby-identifier">list</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:list=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-color" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color</span><span
            class="method-args">( string, *colors )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method provides easy access to ANSI color sequences, without the user
needing to remember to CLEAR at the end of each sequence.  Just pass the
<em>string</em> to color, followed by a list of <em>colors</em> you would
like it to be affected by.  The <em>colors</em> can be <a
href="HighLine/HighLine.html">HighLine</a> class constants, or symbols
(:blue for BLUE, for example).  A CLEAR will automatically be embedded to
the end of the returned <a href="String.html">String</a>.</p>

<p>This method returns the original <em>string</em> unchanged if
HighLine::use_color? is <code>false</code>.</p>
          
          

          
          <div class="method-source-code" id="color-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 380</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">color</span>( <span class="ruby-identifier">string</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">colors</span> )
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">string</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">use_color?</span>
  <span class="ruby-constant">Style</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>).<span class="ruby-identifier">color</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-color_code" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color_code</span><span
            class="method-args">(*colors)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>In case you just want the color code, without the embedding and the CLEAR</p>
          
          

          
          <div class="method-source-code" id="color_code-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">color_code</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>)
  <span class="ruby-constant">Style</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>).<span class="ruby-identifier">code</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-color_scheme" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color_scheme</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the current color scheme.</p>
          
          

          
          <div class="method-source-code" id="color_scheme-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">color_scheme</span>
  <span class="ruby-identifier">@@color_scheme</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-color_scheme-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color_scheme=</span><span
            class="method-args">( setting )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Pass <a href="HighLine/ColorScheme.html">ColorScheme</a> to
<em>setting</em> to set a <a href="HighLine/HighLine.html">HighLine</a>
color scheme.</p>
          
          

          
          <div class="method-source-code" id="color_scheme-3D-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">color_scheme=</span>( <span class="ruby-identifier">setting</span> )
  <span class="ruby-identifier">@@color_scheme</span> = <span class="ruby-identifier">setting</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-colorize_strings" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">colorize_strings</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="colorize_strings-source">
            <pre><span class="ruby-comment"># File lib/highline/string_extensions.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">colorize_strings</span>
  <span class="ruby-operator">::</span><span class="ruby-constant">String</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:include</span>, <span class="ruby-constant">StringExtensions</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-const_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">const_missing</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>For RGB colors:</p>
          
          

          
          <div class="method-source-code" id="const_missing-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">const_missing</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(ON_)?(RGB_)([A-F0-9]{6})(_STYLE)?$/</span> <span class="ruby-comment"># RGB color</span>
    <span class="ruby-identifier">on</span> = <span class="ruby-node">$1</span>
    <span class="ruby-identifier">suffix</span> = <span class="ruby-node">$4</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">suffix</span>
      <span class="ruby-identifier">code_name</span> = <span class="ruby-node">$1</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-node">$2</span> <span class="ruby-operator">+</span> <span class="ruby-node">$3</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">code_name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">code_name</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;_STYLE&#39;</span>
    <span class="ruby-identifier">style</span> = <span class="ruby-constant">Style</span>.<span class="ruby-identifier">rgb</span>(<span class="ruby-node">$3</span>)
    <span class="ruby-identifier">style</span> = <span class="ruby-identifier">style</span>.<span class="ruby-identifier">on</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">on</span>
    <span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">style_name</span>, <span class="ruby-identifier">style</span>)
    <span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">code_name</span>, <span class="ruby-identifier">style</span>.<span class="ruby-identifier">code</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">suffix</span>
      <span class="ruby-identifier">style</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">style</span>.<span class="ruby-identifier">code</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-node">&quot;Bad color or uninitialized constant #{name}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">( input = $stdin, output = $stdout, wrap_at = nil, page_at = nil, indent_size=3, indent_level=0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create an instance of <a href="HighLine/HighLine.html">HighLine</a>,
connected to the streams <em>input</em> and <em>output</em>.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">input</span> = <span class="ruby-identifier">$stdin</span>, <span class="ruby-identifier">output</span> = <span class="ruby-identifier">$stdout</span>,
                <span class="ruby-identifier">wrap_at</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">page_at</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">indent_size</span>=<span class="ruby-value">3</span>, <span class="ruby-identifier">indent_level</span>=<span class="ruby-value">0</span> )
  <span class="ruby-ivar">@input</span>   = <span class="ruby-identifier">input</span>
  <span class="ruby-ivar">@output</span>  = <span class="ruby-identifier">output</span>

  <span class="ruby-ivar">@multi_indent</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@indent_size</span> = <span class="ruby-identifier">indent_size</span>
  <span class="ruby-ivar">@indent_level</span> = <span class="ruby-identifier">indent_level</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">wrap_at</span> = <span class="ruby-identifier">wrap_at</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">page_at</span> = <span class="ruby-identifier">page_at</span>

  <span class="ruby-ivar">@question</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@answer</span>   = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@menu</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@header</span>   = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@prompt</span>   = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@gather</span>   = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@answers</span>  = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@key</span>      = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">initialize_system_extensions</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:initialize_system_extensions</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-supports_rgb_color-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_rgb_color?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>For checking if the current version of <a
href="HighLine/HighLine.html">HighLine</a> supports RGB colors Usage:
HighLine.supports_rgb_color? rescue false   # rescue for compatibility with
older versions Note: color usage also depends on HighLine.use_color being
set</p>
          
          

          
          <div class="method-source-code" id="supports_rgb_color-3F-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">supports_rgb_color?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-track_eof-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">track_eof=</span><span
            class="method-args">( setting )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Pass <code>false</code> to <em>setting</em> to turn off HighLine&#39;s EOF
tracking.</p>
          
          

          
          <div class="method-source-code" id="track_eof-3D-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">track_eof=</span>( <span class="ruby-identifier">setting</span> )
  <span class="ruby-identifier">@@track_eof</span> = <span class="ruby-identifier">setting</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-track_eof-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">track_eof?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if <a href="HighLine/HighLine.html">HighLine</a> is currently
tracking EOF for input.</p>
          
          

          
          <div class="method-source-code" id="track_eof-3F-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">track_eof?</span>
  <span class="ruby-identifier">@@track_eof</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-uncolor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uncolor</span><span
            class="method-args">(string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Remove color codes from a string</p>
          
          

          
          <div class="method-source-code" id="uncolor-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-constant">Style</span>.<span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-use_color-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">use_color=</span><span
            class="method-args">( setting )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Pass <code>false</code> to <em>setting</em> to turn off HighLine&#39;s
color escapes.</p>
          
          

          
          <div class="method-source-code" id="use_color-3D-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">use_color=</span>( <span class="ruby-identifier">setting</span> )
  <span class="ruby-identifier">@@use_color</span> = <span class="ruby-identifier">setting</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-use_color-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">use_color?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if <a href="HighLine/HighLine.html">HighLine</a> is currently
using color escapes.</p>
          
          

          
          <div class="method-source-code" id="use_color-3F-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">use_color?</span>
  <span class="ruby-identifier">@@use_color</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-using_color_scheme-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">using_color_scheme?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if <a href="HighLine/HighLine.html">HighLine</a>
is currently using a color scheme.</p>
          
          

          
          <div class="method-source-code" id="using_color_scheme-3F-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">using_color_scheme?</span>
  <span class="ruby-keyword">not</span> <span class="ruby-identifier">@@color_scheme</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-agree" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">agree</span><span
            class="method-args">( yes_or_no_question, character = nil ) { |q| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A shortcut to HighLine.ask() a question that only accepts “yes” or “no”
answers (“y” and “n” are allowed) and returns <code>true</code> or
<code>false</code> (<code>true</code> for “yes”).  If provided a
<code>true</code> value, <em>character</em> will cause <a
href="HighLine/HighLine.html">HighLine</a> to fetch a single character
response. A block can be provided to further configure the question as in
HighLine.ask()</p>

<p>Raises EOFError if input is exhausted.</p>
          
          

          
          <div class="method-source-code" id="agree-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">agree</span>( <span class="ruby-identifier">yes_or_no_question</span>, <span class="ruby-identifier">character</span> = <span class="ruby-keyword">nil</span> )
  <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">yes_or_no_question</span>, <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">yn</span><span class="ruby-operator">|</span> <span class="ruby-identifier">yn</span>.<span class="ruby-identifier">downcase</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?y</span>}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">q</span>.<span class="ruby-identifier">validate</span>                 = <span class="ruby-regexp">/\Ay(?:es)?|no?\Z/i</span>
    <span class="ruby-identifier">q</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-value">:not_valid</span>]    = <span class="ruby-string">&#39;Please enter &quot;yes&quot; or &quot;no&quot;.&#39;</span>
    <span class="ruby-identifier">q</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-value">:ask_on_error</span>] = <span class="ruby-value">:question</span>
    <span class="ruby-identifier">q</span>.<span class="ruby-identifier">character</span>                = <span class="ruby-identifier">character</span>

    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">q</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ask" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ask</span><span
            class="method-args">( question, answer_type = nil ) { |question| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method is the primary interface for user input.  Just provide a
<em>question</em> to ask the user, the <em>answer_type</em> you want
returned, and optionally a code block setting up details of how you want
the question handled.  See HighLine.say() for details on the format of
<em>question</em>, and <a
href="HighLine/Question.html">HighLine::Question</a> for more information
about <em>answer_type</em> and what&#39;s valid in the code block.</p>

<p>If <code>@question</code> is set before ask() is called, parameters are
ignored and that object (must be a <a
href="HighLine/Question.html">HighLine::Question</a>) is used to drive the
process instead.</p>

<p>Raises EOFError if input is exhausted.</p>
          
          

          
          <div class="method-source-code" id="ask-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ask</span>( <span class="ruby-identifier">question</span>, <span class="ruby-identifier">answer_type</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span> ) <span class="ruby-comment"># :yields: question</span>
  <span class="ruby-ivar">@question</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Question</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">question</span>, <span class="ruby-identifier">answer_type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">gather</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">gather</span>

  <span class="ruby-comment"># readline() needs to handle its own output, but readline only supports</span>
  <span class="ruby-comment"># full line reading.  Therefore if @question.echo is anything but true,</span>
  <span class="ruby-comment"># the prompt will not be issued. And we have to account for that now.</span>
  <span class="ruby-comment"># Also, JRuby-1.7&#39;s ConsoleReader.readLine() needs to be passed the prompt</span>
  <span class="ruby-comment"># to handle line editing properly.</span>
  <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>) <span class="ruby-keyword">unless</span> ((<span class="ruby-constant">JRUBY</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">readline</span>) <span class="ruby-keyword">and</span> (<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">nil?</span>))

  <span class="ruby-keyword">begin</span>
    <span class="ruby-ivar">@answer</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">answer_or_default</span>(<span class="ruby-identifier">get_response</span>)
    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">valid_answer?</span>(<span class="ruby-ivar">@answer</span>)
      <span class="ruby-identifier">explain_error</span>(<span class="ruby-value">:not_valid</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">QuestionError</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@answer</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">convert</span>(<span class="ruby-ivar">@answer</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">in_range?</span>(<span class="ruby-ivar">@answer</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">confirm</span>
        <span class="ruby-comment"># need to add a layer of scope to ask a question inside a</span>
        <span class="ruby-comment"># question, without destroying instance data</span>
        <span class="ruby-identifier">context_change</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@input</span>, <span class="ruby-ivar">@output</span>, <span class="ruby-ivar">@wrap_at</span>, <span class="ruby-ivar">@page_at</span>, <span class="ruby-ivar">@indent_size</span>, <span class="ruby-ivar">@indent_level</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">confirm</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
          <span class="ruby-identifier">confirm_question</span> = <span class="ruby-string">&quot;Are you sure?  &quot;</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-comment"># evaluate ERb under initial scope, so it will have</span>
          <span class="ruby-comment"># access to @question and @answer</span>
          <span class="ruby-identifier">template</span>  = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">confirm</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;%&quot;</span>)
          <span class="ruby-identifier">confirm_question</span> = <span class="ruby-identifier">template</span>.<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">context_change</span>.<span class="ruby-identifier">agree</span>(<span class="ruby-identifier">confirm_question</span>)
          <span class="ruby-identifier">explain_error</span>(<span class="ruby-keyword">nil</span>)
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">QuestionError</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-ivar">@answer</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">explain_error</span>(<span class="ruby-value">:not_in_range</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">QuestionError</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">QuestionError</span>
    <span class="ruby-keyword">retry</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NoMethodError</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/ambiguous/</span>
      <span class="ruby-comment"># the assumption here is that OptionParser::Completion#complete</span>
      <span class="ruby-comment"># (used for ambiguity resolution) throws exceptions containing</span>
      <span class="ruby-comment"># the word &#39;ambiguous&#39; whenever resolution fails</span>
      <span class="ruby-identifier">explain_error</span>(<span class="ruby-value">:ambiguous_completion</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">explain_error</span>(<span class="ruby-value">:invalid_type</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">retry</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Question</span><span class="ruby-operator">::</span><span class="ruby-constant">NoAutoCompleteMatch</span>
    <span class="ruby-identifier">explain_error</span>(<span class="ruby-value">:no_completion</span>)
    <span class="ruby-keyword">retry</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-ivar">@question</span> = <span class="ruby-keyword">nil</span>    <span class="ruby-comment"># Reset Question object.</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-choose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">choose</span><span
            class="method-args">( *items, &details )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method is HighLine&#39;s menu handler.  For simple usage, you can just
pass all the menu items you wish to display.  At that point, choose() will
build and display a menu, walk the user through selection, and return their
choice among the provided items.  You might use this in a case statement
for quick and dirty menus.</p>

<p>However, choose() is capable of much more.  If provided, a block will be
passed a <a href="HighLine/Menu.html">HighLine::Menu</a> object to
configure.  Using this method, you can customize all the details of menu
handling from index display, to building a complete shell-like menuing
system.  See <a href="HighLine/Menu.html">HighLine::Menu</a> for all the
methods it responds to.</p>

<p>Raises EOFError if input is exhausted.</p>
          
          

          
          <div class="method-source-code" id="choose-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">choose</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">items</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span> )
  <span class="ruby-ivar">@menu</span> = <span class="ruby-ivar">@question</span> = <span class="ruby-constant">Menu</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span>)
  <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">choices</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">items</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-comment"># Set auto-completion</span>
  <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">completion</span> = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">options</span>
  <span class="ruby-comment"># Set _answer_type_ so we can double as the Question for ask().</span>
  <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">answer_type</span> = <span class="ruby-keyword">if</span> <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">shell</span>
    <span class="ruby-identifier">lambda</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">command</span><span class="ruby-operator">|</span>    <span class="ruby-comment"># shell-style selection</span>
      <span class="ruby-identifier">first_word</span> = <span class="ruby-identifier">command</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>

      <span class="ruby-identifier">options</span> = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">options</span>
      <span class="ruby-identifier">options</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">Completion</span>)
      <span class="ruby-identifier">answer</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">complete</span>(<span class="ruby-identifier">first_word</span>)

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">answer</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Question</span><span class="ruby-operator">::</span><span class="ruby-constant">NoAutoCompleteMatch</span>
      <span class="ruby-keyword">end</span>

      [<span class="ruby-identifier">answer</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">command</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-node">/^\s*#{first_word}\s*/</span>, <span class="ruby-string">&quot;&quot;</span>)]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">options</span>          <span class="ruby-comment"># normal menu selection, by index or name</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Provide hooks for ERb layouts.</span>
  <span class="ruby-ivar">@header</span>   = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">header</span>
  <span class="ruby-ivar">@prompt</span>   = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">prompt</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">shell</span>
    <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">ask</span>(<span class="ruby-string">&quot;Ignored&quot;</span>, <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">answer_type</span>)
    <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">select</span>(<span class="ruby-keyword">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">selected</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">ask</span>(<span class="ruby-string">&quot;Ignored&quot;</span>, <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">answer_type</span>)
    <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">select</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">selected</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-color" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Works as an instance method, same as the class method</p>
          
          

          
          <div class="method-source-code" id="color-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">color</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">color</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-color_code" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color_code</span><span
            class="method-args">(*colors)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Works as an instance method, same as the class method</p>
          
          

          
          <div class="method-source-code" id="color_code-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">color_code</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">color_code</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-indent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">indent</span><span
            class="method-args">(increase=1, statement=nil, multiline=nil) { |self| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Executes block or outputs statement with indentation</p>
          
          

          
          <div class="method-source-code" id="indent-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 665</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">indent</span>(<span class="ruby-identifier">increase</span>=<span class="ruby-value">1</span>, <span class="ruby-identifier">statement</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">multiline</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@indent_level</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">increase</span>
  <span class="ruby-identifier">multi</span> = <span class="ruby-ivar">@multi_indent</span>
  <span class="ruby-ivar">@multi_indent</span> = <span class="ruby-identifier">multiline</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">multiline</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
          <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span>
      <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">say</span>(<span class="ruby-identifier">statement</span>)
      <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span>
      <span class="ruby-ivar">@multi_indent</span> = <span class="ruby-identifier">multi</span>
      <span class="ruby-ivar">@indent_level</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">increase</span>
      <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@multi_indent</span> = <span class="ruby-identifier">multi</span>
  <span class="ruby-ivar">@indent_level</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">increase</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-indentation" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">indentation</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Outputs indentation with current settings</p>
          
          

          
          <div class="method-source-code" id="indentation-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 658</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">indentation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39; &#39;</span><span class="ruby-operator">*</span><span class="ruby-ivar">@indent_size</span><span class="ruby-operator">*</span><span class="ruby-ivar">@indent_level</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list</span><span
            class="method-args">( items, mode = :rows, option = nil )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method is a utility for quickly and easily laying out lists.  It can
be accessed within ERb replacements of any text that will be sent to the
user.</p>

<p>The only required parameter is <em>items</em>, which should be the Array of
items to list.  A specified <em>mode</em> controls how that list is formed
and <em>option</em> has different effects, depending on the <em>mode</em>. 
Recognized modes are:</p>
<dl class="rdoc-list note-list"><dt><code>:columns_across</code>
<dd>
<p><em>items</em> will be placed in columns, flowing from left to right.  If
given, <em>option</em> is the number of columns to be used.  When absent,
columns will be determined based on <em>wrap_at</em> or a default of 80
characters.</p>
</dd><dt><code>:columns_down</code>
<dd>
<p>Identical to <code>:columns_across</code>, save flow goes down.</p>
</dd><dt><code>:uneven_columns_across</code>
<dd>
<p>Like <code>:columns_across</code> but each column is sized independently.</p>
</dd><dt><code>:uneven_columns_down</code>
<dd>
<p>Like <code>:columns_down</code> but each column is sized independently.</p>
</dd><dt><code>:inline</code>
<dd>
<p>All <em>items</em> are placed on a single line. The last two <em>items</em>
are separated by <em>option</em> or a default of “ or ”.  All other
<em>items</em> are separated by “, ”.</p>
</dd><dt><code>:rows</code>
<dd>
<p>The default mode.  Each of the <em>items</em> is placed on its own line. 
The <em>option</em> parameter is ignored in this mode.</p>
</dd></dl>

<p>Each member of the <em>items</em> Array is passed through ERb and thus can
contain their own expansions.  Color escape expansions do not contribute to
the final field width.</p>
          
          

          
          <div class="method-source-code" id="list-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list</span>( <span class="ruby-identifier">items</span>, <span class="ruby-identifier">mode</span> = <span class="ruby-value">:rows</span>, <span class="ruby-identifier">option</span> = <span class="ruby-keyword">nil</span> )
  <span class="ruby-identifier">items</span> = <span class="ruby-identifier">items</span>.<span class="ruby-identifier">to_ary</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">item</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;%&quot;</span>).<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">mode</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:inline</span>
      <span class="ruby-identifier">option</span> = <span class="ruby-string">&quot; or &quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">items</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-2</span>].<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-node">&quot;#{option}#{items.last}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:columns_across</span>, <span class="ruby-value">:columns_down</span>
      <span class="ruby-identifier">max_length</span> = <span class="ruby-identifier">actual_length</span>(
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">max</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">a</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">b</span>) }
      )

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">limit</span>  = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
        <span class="ruby-identifier">option</span> = (<span class="ruby-identifier">limit</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>) <span class="ruby-operator">/</span> (<span class="ruby-identifier">max_length</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">items</span> = <span class="ruby-identifier">items</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">pad</span> = <span class="ruby-identifier">max_length</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">item</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">item</span>))
        <span class="ruby-node">&quot;%-#{pad}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">item</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:columns_across</span>
        <span class="ruby-identifier">rows</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">row_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> }.<span class="ruby-identifier">join</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">columns</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">row_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">list</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>[<span class="ruby-identifier">index</span>] }.
                          <span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">list</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:uneven_columns_across</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">limit</span> = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">downto</span>(<span class="ruby-value">1</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column_count</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">column_count</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
          <span class="ruby-identifier">rows</span>      = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">row_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
          <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">column_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
          <span class="ruby-keyword">end</span>

          <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">column_count</span>, <span class="ruby-value">0</span>)
          <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">size</span>           = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
              <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>]
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>

          <span class="ruby-keyword">if</span> <span class="ruby-identifier">column_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword">or</span>
             <span class="ruby-identifier">widths</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span> } <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>
            <span class="ruby-keyword">return</span> <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">row</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
                <span class="ruby-node">&quot;%-#{i + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">field</span>
              }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
            }.<span class="ruby-identifier">join</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
        <span class="ruby-identifier">rows</span>      = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">row_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>, <span class="ruby-value">0</span>)
        <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">size</span>           = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
            <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-keyword">return</span> <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">row</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
            <span class="ruby-node">&quot;%-#{i + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">field</span>
          }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
        }.<span class="ruby-identifier">join</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:uneven_columns_down</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">limit</span> = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">downto</span>(<span class="ruby-value">1</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column_count</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">column_count</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
          <span class="ruby-identifier">columns</span>   = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">column_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
          <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">row_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
          <span class="ruby-keyword">end</span>

          <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">column_count</span>, <span class="ruby-value">0</span>)
          <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">column</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">size</span>      = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
              <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>]
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>

          <span class="ruby-keyword">if</span> <span class="ruby-identifier">column_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword">or</span>
             <span class="ruby-identifier">widths</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span> } <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>
            <span class="ruby-identifier">list</span> = <span class="ruby-string">&quot;&quot;</span>
            <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">width</span><span class="ruby-operator">|</span>
                <span class="ruby-identifier">field</span> = <span class="ruby-identifier">column</span>[<span class="ruby-identifier">index</span>]
                <span class="ruby-node">&quot;%-#{width + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span>
                <span class="ruby-identifier">field</span>
              }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;  &quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
            <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">return</span> <span class="ruby-identifier">list</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
        <span class="ruby-identifier">columns</span>   = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
        <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">row_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>, <span class="ruby-value">0</span>)
        <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">column</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">size</span>      = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
            <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>]
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">list</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">width</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">field</span> = <span class="ruby-identifier">column</span>[<span class="ruby-identifier">index</span>]
            <span class="ruby-node">&quot;%-#{width + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">field</span>
          }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;  &quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">list</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">items</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{i}\n&quot;</span> }.<span class="ruby-identifier">join</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-newline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">newline</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Outputs newline</p>
          
          

          
          <div class="method-source-code" id="newline-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 687</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">newline</span>
  <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-output_cols" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">output_cols</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the number of columns for the console, or a default it they cannot
be determined.</p>
          
          

          
          <div class="method-source-code" id="output_cols-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 695</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">output_cols</span>
  <span class="ruby-keyword">return</span> <span class="ruby-value">80</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">tty?</span>
  <span class="ruby-identifier">terminal_size</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-keyword">return</span> <span class="ruby-value">80</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-output_rows" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">output_rows</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the number of rows for the console, or a default if they cannot be
determined.</p>
          
          

          
          <div class="method-source-code" id="output_rows-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 706</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">output_rows</span>
  <span class="ruby-keyword">return</span> <span class="ruby-value">24</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">tty?</span>
  <span class="ruby-identifier">terminal_size</span>.<span class="ruby-identifier">last</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-keyword">return</span> <span class="ruby-value">24</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-page_at-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">page_at=</span><span
            class="method-args">( setting )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Set to an integer value to cause <a
href="HighLine/HighLine.html">HighLine</a> to page output lines over the
indicated line limit.  When <code>nil</code>, the default, no paging
occurs.  If set to <code>:auto</code>, <a
href="HighLine/HighLine.html">HighLine</a> will attempt to determine the
rows available for the <code>@output</code> or use a sensible default.</p>
          
          

          
          <div class="method-source-code" id="page_at-3D-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 651</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">page_at=</span>( <span class="ruby-identifier">setting</span> )
  <span class="ruby-ivar">@page_at</span> = <span class="ruby-identifier">setting</span> <span class="ruby-operator">==</span> <span class="ruby-value">:auto</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">output_rows</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">setting</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-say" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">say</span><span
            class="method-args">( statement )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The basic output method for <a href="HighLine/HighLine.html">HighLine</a>
objects.  If the provided <em>statement</em> ends with a space or tab
character, a newline will not be appended (output will be flush()ed).  All
other cases are passed straight to Kernel.puts().</p>

<p>The <em>statement</em> parameter is processed as an ERb template,
supporting embedded Ruby code.  The template is evaluated with a binding
inside the <a href="HighLine/HighLine.html">HighLine</a> instance,
providing easy access to the ANSI color constants and the HighLine.color()
method.</p>
          
          

          
          <div class="method-source-code" id="say-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 619</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">say</span>( <span class="ruby-identifier">statement</span> )
  <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">format_statement</span>(<span class="ruby-identifier">statement</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>

  <span class="ruby-identifier">out</span> = (<span class="ruby-identifier">indentation</span><span class="ruby-operator">+</span><span class="ruby-identifier">statement</span>).<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>, { <span class="ruby-value">:undef</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:replace</span>  } )

  <span class="ruby-comment"># Don&#39;t add a newline if statement ends with whitespace, OR</span>
  <span class="ruby-comment"># if statement ends with whitespace before a color escape code.</span>
  <span class="ruby-keyword">if</span> <span class="ruby-regexp">/[ \t](\e\[\d+(;\d+)*m)?\Z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">statement</span>
    <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">out</span>)
    <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">out</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-uncolor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uncolor</span><span
            class="method-args">(string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Works as an instance method, same as the class method</p>
          
          

          
          <div class="method-source-code" id="uncolor-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-wrap_at-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">wrap_at=</span><span
            class="method-args">( setting )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Set to an integer value to cause <a
href="HighLine/HighLine.html">HighLine</a> to wrap output lines at the
indicated character limit.  When <code>nil</code>, the default, no wrapping
occurs.  If set to <code>:auto</code>, <a
href="HighLine/HighLine.html">HighLine</a> will attempt to determine the
columns available for the <code>@output</code> or use a sensible default.</p>
          
          

          
          <div class="method-source-code" id="wrap_at-3D-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 641</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wrap_at=</span>( <span class="ruby-identifier">setting</span> )
  <span class="ruby-ivar">@wrap_at</span> = <span class="ruby-identifier">setting</span> <span class="ruby-operator">==</span> <span class="ruby-value">:auto</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">output_cols</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">setting</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-actual_length" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">actual_length</span><span
            class="method-args">( string_with_escapes )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the length of the passed <code>string_with_escapes</code>, minus
and color sequence escapes.</p>
          
          

          
          <div class="method-source-code" id="actual_length-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 1042</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">actual_length</span>( <span class="ruby-identifier">string_with_escapes</span> )
  <span class="ruby-identifier">string_with_escapes</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\e\[\d{1,2}m/</span>, <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-continue_paging-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">continue_paging?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Ask user if they wish to continue paging output. Allows them to type “q” to
cancel the paging process.</p>
          
          

          
          <div class="method-source-code" id="continue_paging-3F-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 1005</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">continue_paging?</span>
  <span class="ruby-identifier">command</span> = <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@input</span>, <span class="ruby-ivar">@output</span>).<span class="ruby-identifier">ask</span>(
    <span class="ruby-string">&quot;-- press enter/return to continue or q to stop -- &quot;</span>
  ) { <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span> <span class="ruby-identifier">q</span>.<span class="ruby-identifier">character</span> = <span class="ruby-keyword">true</span> }
  <span class="ruby-identifier">command</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp">/\A[qQ]\Z/</span>  <span class="ruby-comment"># Only continue paging if Q was not hit.</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-explain_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">explain_error</span><span
            class="method-args">( error )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A helper method for sending the output stream and error and repeat of the
question.</p>
          
          

          
          <div class="method-source-code" id="explain_error-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 738</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">explain_error</span>( <span class="ruby-identifier">error</span> )
  <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">error</span>]) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-value">:ask_on_error</span>] <span class="ruby-operator">==</span> <span class="ruby-value">:question</span>
    <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-value">:ask_on_error</span>]
    <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-value">:ask_on_error</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-format_statement" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">format_statement</span><span
            class="method-args">(statement)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="format_statement-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 715</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">format_statement</span> <span class="ruby-identifier">statement</span>
  <span class="ruby-identifier">statement</span> = <span class="ruby-constant">String</span>(<span class="ruby-identifier">statement</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">statement</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>

  <span class="ruby-identifier">template</span>  = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;%&quot;</span>)
  <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">template</span>.<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)

  <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">statement</span>) <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@wrap_at</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">page_print</span>(<span class="ruby-identifier">statement</span>) <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@page_at</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-comment"># &#39;statement&#39; is encoded in US-ASCII when using ruby 1.9.3(-p551)</span>
  <span class="ruby-comment"># &#39;indentation&#39; is correctly encoded (same as default_external encoding)</span>
  <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>)

  <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\n(?!$)/</span>,<span class="ruby-node">&quot;\n#{indentation}&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@multi_indent</span>

  <span class="ruby-identifier">statement</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-gather" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gather</span><span
            class="method-args">( )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Collects an Array/Hash full of answers as described in <a
href="HighLine/Question.html#attribute-i-gather">HighLine::Question#gather</a>.</p>

<p>Raises EOFError if input is exhausted.</p>
          
          

          
          <div class="method-source-code" id="gather-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gather</span>(  )
  <span class="ruby-identifier">original_question</span> = <span class="ruby-ivar">@question</span>
  <span class="ruby-identifier">original_question_string</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">question</span>
  <span class="ruby-identifier">original_gather</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">gather</span>

  <span class="ruby-identifier">verify_match</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">verify_match</span>
  <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">gather</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-keyword">begin</span>   <span class="ruby-comment"># when verify_match is set this loop will repeat until unique_answers == 1</span>
    <span class="ruby-ivar">@answers</span>          = [ ]
    <span class="ruby-ivar">@gather</span> = <span class="ruby-identifier">original_gather</span>
    <span class="ruby-identifier">original_question</span>.<span class="ruby-identifier">question</span> = <span class="ruby-identifier">original_question_string</span>

    <span class="ruby-keyword">case</span> <span class="ruby-ivar">@gather</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Integer</span>
      <span class="ruby-ivar">@answers</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
      <span class="ruby-ivar">@gather</span>  <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>

      <span class="ruby-identifier">original_question</span>.<span class="ruby-identifier">question</span> = <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-keyword">until</span> <span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">zero?</span>
        <span class="ruby-ivar">@question</span> =  <span class="ruby-identifier">original_question</span>
        <span class="ruby-ivar">@answers</span>  <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
        <span class="ruby-ivar">@gather</span>   <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-operator">::</span><span class="ruby-constant">String</span>, <span class="ruby-constant">Regexp</span>
      <span class="ruby-ivar">@answers</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)

      <span class="ruby-identifier">original_question</span>.<span class="ruby-identifier">question</span> = <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-keyword">until</span> (<span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">String</span>) <span class="ruby-keyword">and</span> <span class="ruby-ivar">@answers</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@gather</span>) <span class="ruby-keyword">or</span>
          (<span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Regexp</span>) <span class="ruby-keyword">and</span> <span class="ruby-ivar">@answers</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@gather</span>)
        <span class="ruby-ivar">@question</span> =  <span class="ruby-identifier">original_question</span>
        <span class="ruby-ivar">@answers</span>  <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-ivar">@answers</span>.<span class="ruby-identifier">pop</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
      <span class="ruby-ivar">@answers</span> = { }
      <span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
        <span class="ruby-ivar">@question</span>     = <span class="ruby-identifier">original_question</span>
        <span class="ruby-ivar">@key</span>          = <span class="ruby-identifier">key</span>
        <span class="ruby-ivar">@answers</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">verify_match</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">unique_answers</span>(<span class="ruby-ivar">@answers</span>).<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
      <span class="ruby-ivar">@question</span> =  <span class="ruby-identifier">original_question</span>
      <span class="ruby-identifier">explain_error</span>(<span class="ruby-value">:mismatch</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">verify_match</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">verify_match</span>

  <span class="ruby-identifier">original_question</span>.<span class="ruby-identifier">verify_match</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@answer</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@answers</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_line</span><span
            class="method-args">( )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Read a line of input from the input stream and process whitespace as
requested by the <a href="HighLine/Question.html">Question</a> object.</p>

<p>If Question&#39;s <em>readline</em> property is set, that library will be
used to fetch input.  <strong>WARNING</strong>:  This ignores the currently
set input stream.</p>

<p>Raises EOFError if input is exhausted.</p>
          
          

          
          <div class="method-source-code" id="get_line-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 827</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_line</span>(  )
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">readline</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;readline&quot;</span>    <span class="ruby-comment"># load only if needed</span>

    <span class="ruby-comment"># capture say()&#39;s work in a String to feed to readline()</span>
    <span class="ruby-identifier">old_output</span> = <span class="ruby-ivar">@output</span>
    <span class="ruby-ivar">@output</span>    = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>)
    <span class="ruby-identifier">question</span> = <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">string</span>
    <span class="ruby-ivar">@output</span>  = <span class="ruby-identifier">old_output</span>

    <span class="ruby-comment"># prep auto-completion</span>
    <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">lambda</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
      <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">selection</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/\A#{Regexp.escape(string)}/</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># work-around ugly readline() warnings</span>
    <span class="ruby-identifier">old_verbose</span> = <span class="ruby-identifier">$VERBOSE</span>
    <span class="ruby-identifier">$VERBOSE</span>    = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">raw_answer</span>  = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-identifier">question</span>, <span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw_answer</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@track_eof</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">EOFError</span>, <span class="ruby-string">&quot;The input stream is exhausted.&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raw_answer</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span> <span class="ruby-comment"># Never return nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">answer</span>      = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(
                      <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">remove_whitespace</span>(<span class="ruby-identifier">raw_answer</span>))
    <span class="ruby-identifier">$VERBOSE</span>    = <span class="ruby-identifier">old_verbose</span>

    <span class="ruby-identifier">answer</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">JRUBY</span>
      <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">format_statement</span>(<span class="ruby-ivar">@question</span>)
      <span class="ruby-identifier">raw_answer</span> = <span class="ruby-ivar">@java_console</span>.<span class="ruby-identifier">readLine</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-keyword">nil</span>)

      <span class="ruby-identifier">raise</span> <span class="ruby-constant">EOFError</span>, <span class="ruby-string">&quot;The input stream is exhausted.&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw_answer</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">and</span>
                                                          <span class="ruby-identifier">@@track_eof</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">EOFError</span>, <span class="ruby-string">&quot;The input stream is exhausted.&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@track_eof</span> <span class="ruby-keyword">and</span>
                                                          <span class="ruby-ivar">@input</span>.<span class="ruby-identifier">eof?</span>
      <span class="ruby-identifier">raw_answer</span> = <span class="ruby-ivar">@input</span>.<span class="ruby-identifier">gets</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">remove_whitespace</span>(<span class="ruby-identifier">raw_answer</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get_response" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_response</span><span
            class="method-args">( )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a line or character of input, as requested for this question.
Character input will be returned as a single character <a
href="String.html">String</a>, not an Integer.</p>

<p>This question&#39;s <em>first_answer</em> will be returned instead of
input, if set.</p>

<p>Raises EOFError if input is exhausted.</p>
          
          

          
          <div class="method-source-code" id="get_response-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 885</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_response</span>(  )
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">first_answer</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">first_answer?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">character</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">get_line</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raw_no_echo_mode</span>

      <span class="ruby-identifier">line</span>            = <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>)
      <span class="ruby-identifier">backspace_limit</span> = <span class="ruby-value">0</span>
      <span class="ruby-keyword">begin</span>

        <span class="ruby-keyword">while</span> <span class="ruby-identifier">character</span> = <span class="ruby-identifier">get_character</span>(<span class="ruby-ivar">@input</span>)
          <span class="ruby-comment"># honor backspace and delete</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">127</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">8</span>
            <span class="ruby-identifier">line</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>)
            <span class="ruby-identifier">line</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>)
            <span class="ruby-identifier">backspace_limit</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
            <span class="ruby-identifier">line</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">character</span>.<span class="ruby-identifier">chr</span>
            <span class="ruby-identifier">backspace_limit</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>).<span class="ruby-identifier">size</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-comment"># looking for carriage return (decimal 13) or</span>
          <span class="ruby-comment"># newline (decimal 10) in raw input</span>
          <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">13</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">10</span>
          <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">false</span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">127</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">8</span>
              <span class="ruby-comment"># only backspace if we have characters on the line to</span>
              <span class="ruby-comment"># eliminate, otherwise we&#39;ll tromp over the prompt</span>
              <span class="ruby-keyword">if</span> <span class="ruby-identifier">backspace_limit</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span> <span class="ruby-keyword">then</span>
                <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-node">&quot;\b#{HighLine.Style(:erase_char).code}&quot;</span>)
              <span class="ruby-keyword">else</span>
                  <span class="ruby-comment"># do nothing</span>
              <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">else</span>
              <span class="ruby-identifier">line_with_next_char_encoded</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>)
              <span class="ruby-comment"># For multi-byte character, does this</span>
              <span class="ruby-comment">#   last character completes the character?</span>
              <span class="ruby-comment"># Then print it.</span>
              <span class="ruby-keyword">if</span> <span class="ruby-identifier">line_with_next_char_encoded</span>.<span class="ruby-identifier">valid_encoding?</span>
                <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
                  <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">line_with_next_char_encoded</span>[<span class="ruby-value">-1</span>])
                <span class="ruby-keyword">else</span>
                  <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span>)
                <span class="ruby-keyword">end</span>
              <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">end</span>
            <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">ensure</span>
        <span class="ruby-identifier">restore_mode</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">overwrite</span>
        <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-node">&quot;\r#{HighLine.Style(:erase_line).code}&quot;</span>)
        <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">say</span>(<span class="ruby-string">&quot;\n&quot;</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">remove_whitespace</span>(<span class="ruby-identifier">line</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>)))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">JRUBY</span> <span class="ruby-comment">#prompt has not been shown</span>
      <span class="ruby-identifier">say</span> <span class="ruby-ivar">@question</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">raw_no_echo_mode</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">:getc</span>
        <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@input</span>.<span class="ruby-identifier">getbyte</span>.<span class="ruby-identifier">chr</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get_character</span>(<span class="ruby-ivar">@input</span>).<span class="ruby-identifier">chr</span>
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">overwrite</span>
          <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-node">&quot;\r#{HighLine.Style(:erase_line).code}&quot;</span>)
          <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">echo</span> = <span class="ruby-keyword">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
            <span class="ruby-identifier">response</span>
          <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">false</span>
            <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span>
          <span class="ruby-keyword">else</span>
            <span class="ruby-string">&quot;&quot;</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-identifier">say</span>(<span class="ruby-node">&quot;#{echo}\n&quot;</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">restore_mode</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-page_print" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">page_print</span><span
            class="method-args">( output )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Page print a series of at most <em>page_at</em> lines for <em>output</em>. 
After each page is printed, <a href="HighLine/HighLine.html">HighLine</a>
will pause until the user presses enter/return then display the next page
of data.</p>

<p>Note that the final page of <em>output</em> is <strong>not</strong>
printed, but returned instead.  This is to support any special handling for
the final sequence.</p>
          
          

          
          <div class="method-source-code" id="page_print-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 990</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">page_print</span>( <span class="ruby-identifier">output</span> )
  <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">output</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@page_at</span>
    <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-ivar">@page_at</span>).<span class="ruby-identifier">join</span>
    <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span>
    <span class="ruby-comment"># Return last line if user wants to abort paging</span>
    <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;...\n#{lines.last}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">continue_paging?</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unique_answers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unique_answers</span><span
            class="method-args">(list = @answers)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A helper method used by <a
href="HighLine/Question.html#attribute-i-verify_match">HighLine::Question#verify_match</a>
for finding whether a list of answers match or differ from each other.</p>
          
          

          
          <div class="method-source-code" id="unique_answers-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 814</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unique_answers</span>(<span class="ruby-identifier">list</span> = <span class="ruby-ivar">@answers</span>)
  (<span class="ruby-identifier">list</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:values</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">values</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">list</span>).<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-wrap" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">wrap</span><span
            class="method-args">( text )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Wrap a sequence of <em>lines</em> at <em>wrap_at</em> characters per line. 
Existing newlines will not be affected by this process, but additional
newlines may be added.</p>
          
          

          
          <div class="method-source-code" id="wrap-source">
            <pre><span class="ruby-comment"># File lib/highline.rb, line 1017</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wrap</span>( <span class="ruby-identifier">text</span> )
  <span class="ruby-identifier">wrapped</span> = [ ]
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">each_line</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># take into account color escape sequences when wrapping</span>
    <span class="ruby-identifier">wrap_at</span> = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">line</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">line</span>))
    <span class="ruby-keyword">while</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/([^\n]{#{wrap_at + 1},})/</span>
      <span class="ruby-identifier">search</span>  = <span class="ruby-node">$1</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-identifier">replace</span> = <span class="ruby-node">$1</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">index</span> = <span class="ruby-identifier">replace</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-string">&quot; &quot;</span>, <span class="ruby-identifier">wrap_at</span>)
        <span class="ruby-identifier">replace</span>[<span class="ruby-identifier">index</span>, <span class="ruby-value">1</span>] = <span class="ruby-string">&quot;\n&quot;</span>
        <span class="ruby-identifier">replace</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/\n[ \t]+/</span>, <span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">line</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-identifier">search</span>, <span class="ruby-identifier">replace</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">line</span>[<span class="ruby-identifier">$~</span>.<span class="ruby-identifier">begin</span>(<span class="ruby-value">1</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">wrap_at</span>, <span class="ruby-value">0</span>] = <span class="ruby-string">&quot;\n&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">wrapped</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">wrapped</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

